!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-marquee",["exports","@angular/core","rxjs","rxjs/operators","@angular/common"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["ngx-marquee"]={},t.ng.core,t.rxjs,t.rxjs.operators,t.ng.common)}(this,(function(t,e,n,i,r){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function a(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{u(i.next(t))}catch(t){a(t)}}function s(t){try{u(i.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((i=i.apply(t,e||[])).next())}))}function o(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}Object.create;function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}var u;Object.create;!function(t){t.Visible="Visible",t.Pending="Pending",t.NotVisible="NotVisible"}(u||(u={}));var l,c,p;function h(t){return a(this,void 0,void 0,(function(){return o(this,(function(e){return[2,new Promise((function(e){var n=new IntersectionObserver((function(t){var i=s(t,1)[0];e(i.isIntersecting),n.disconnect()}));n.observe(t)}))]}))}))}(l=t.MarqueeState||(t.MarqueeState={})).Running="running",l.Paused="paused",l.Stopped="stopped",function(t){t.Left="left",t.Right="right",t.Alternate="alternate"}(c||(c={})),function(t){t.Default="default",t.SlideInUp="slideInUp",t.SlideInDown="slideInDown"}(p||(p={}));var d=function(){function n(t){var n=this;this._renderer=t,this._outerFlags=[!1,!1],this.debounce=0,this.root=void 0,this.rootMargin="0px",this.threshold=0,this.duration="20s",this.animation=p.Default,this.pauseOnHover=!1,this.pendingUpdates=!1,this.pendingUpdatesChange=new e.EventEmitter,this.playStateChange=new e.EventEmitter,"function"!=typeof this.taskOnUpdateContent&&(this.taskOnUpdateContent=function(){}),"function"!=typeof this.taskOnUpdateDuration&&(this.taskOnUpdateDuration=function(){return n.duration})}return n.prototype.ngAfterViewInit=function(){this._elementMarquee=this._renderer.selectRootElement(this.tape,!0).nativeElement,this._resetMarquee()},n.prototype.playPause=function(){null===this._dataPlayState||this._dataPlayState===t.MarqueeState.Running?this._pauseElement():this._playElement()},n.prototype.stop=function(){this._resetAnimation(),this._stopElement()},n.prototype.restart=function(){this._resetAnimation(),this._playElement()},n.prototype.onVisibilityChanged=function(t,e){t!==u.Pending&&(t===u.Visible?this._outerFlags[e]=!0:t===u.NotVisible&&(this._outerFlags[e]=!1),this.pendingUpdates&&(void 0!==this.direction&&this.direction!==c.Left||!0!==this._outerFlags[0]||!1!==this._outerFlags[1]?this.direction===c.Right&&!1===this._outerFlags[0]&&!0===this._outerFlags[1]&&this._execProcedure():this._execProcedure()))},n.prototype._execProcedure=function(){this.taskOnUpdateContent(),this._resetMarquee(),this._setPendingUpdates(!1)},n.prototype._setDataPlayState=function(t){this._dataPlayState=t,this.playStateChange.emit(this._dataPlayState)},n.prototype._setPendingUpdates=function(t){this.pendingUpdates=t,this.pendingUpdatesChange.emit(this.pendingUpdates)},n.prototype._resetMarquee=function(){this.stop(),this._calculateDuration(),this._playElement()},n.prototype._calculateDuration=function(){this.duration=this.taskOnUpdateDuration()},n.prototype._playElement=function(){this._setAnimationState("running",!0),this._setDataAttrState("running"),this._setDataPlayState(t.MarqueeState.Running)},n.prototype._pauseElement=function(){this._setAnimationState("paused"),this._setDataAttrState("paused"),this._setDataPlayState(t.MarqueeState.Paused)},n.prototype._stopElement=function(){this._setAnimationState("paused"),this._setDataAttrState("stopped"),this._setDataPlayState(t.MarqueeState.Stopped),this._setPendingUpdates(!1)},n.prototype._setAnimationState=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1),this._renderer.setStyle(this._elementMarquee,"animation-play-state",t),e&&this._fixAnimationState()},n.prototype._resetAnimation=function(){this._renderer.setStyle(this._elementMarquee,"animation","none");var t=this._elementMarquee.offsetWidth;switch(t=t,this._renderer.setStyle(this._elementMarquee,"animation",this.duration+" linear infinite"),this._renderer.setStyle(this._elementMarquee,"-webkit-animation",this.duration+" linear infinite"),this.direction){case"alternate":this._renderer.setStyle(this._elementMarquee,"animation-direction","alternate");break;default:this._renderer.setStyle(this._elementMarquee,"animation-direction","normal")}this.direction!==c.Alternate?void 0===this.direction||this.direction===c.Left?this.animation===p.SlideInUp?this._renderer.setStyle(this._elementMarquee,"animation-name","slide-in-up"):this.animation===p.SlideInDown?this._renderer.setStyle(this._elementMarquee,"animation-name","slide-in-down"):this._renderer.setStyle(this._elementMarquee,"animation-name","movement-smooth"):this.direction===c.Right&&(this.animation===p.SlideInUp?this._renderer.setStyle(this._elementMarquee,"animation-name","slide-in-up-right"):this.animation===p.SlideInDown?this._renderer.setStyle(this._elementMarquee,"animation-name","slide-in-down-right"):(this._renderer.setStyle(this._elementMarquee,"animation-direction","reverse"),this._renderer.setStyle(this._elementMarquee,"animation-name","movement-smooth"))):this._renderer.setStyle(this._elementMarquee,"animation-name","movement-smooth")},n.prototype._setDataAttrState=function(t){void 0===t&&(t=""),this._renderer.setAttribute(this._elementMarquee,"data-play-state",t)},n.prototype._fixAnimationState=function(){this._renderer.removeStyle(this._elementMarquee,"animation-play-state")},n}();d.decorators=[{type:e.Component,args:[{selector:"ngx-marquee",template:'<div class="ngx-marquee" [ngClass]="{\'ngx-marquee-pause-on-hover\': pauseOnHover}">\n    <span #tape>\n        <span class="ticker-control ticker-start" \n            intersectionObserver\n            [intersectionRoot]="root"\n            [intersectionRootMargin]="rootMargin"\n            [intersectionThreshold]="threshold"\n            [intersectionDebounce]="debounce"\n            (visibilityChange)="onVisibilityChanged($event, 0)">L</span>\n        <span class="tickers">\n            <ng-content></ng-content>\n        </span>\n        <span class="ticker-control ticker-end"\n            intersectionObserver\n            [intersectionRoot]="root"\n            [intersectionRootMargin]="rootMargin"\n            [intersectionThreshold]="threshold"\n            [intersectionDebounce]="debounce"\n            (visibilityChange)="onVisibilityChanged($event, 1)">R</span>\n    </span>\n</div>',changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[".ngx-marquee{overflow:hidden;text-align:left}.ngx-marquee.ngx-marquee-pause-on-hover:hover>span{animation-play-state:paused}.ngx-marquee>span{content:attr(data-marquee);display:inline-block;position:relative;white-space:nowrap;animation:linear infinite;animation-duration:20s;animation-direction:normal}.ngx-marquee span.ticker-control{display:inline-block;width:20px;text-align:center;color:transparent;background-color:initial}.ngx-marquee.ngx-marquee-direction-left>span,.ngx-marquee.ngx-marquee-direction-normal>span{animation-direction:normal}@keyframes movement-smooth{0%{transform:translateX(0);left:100%}to{transform:translateX(-100%);left:0}}@keyframes slide-in-up{0%{transform:translateY(100%);left:0}10%{transform:translateY(0);left:0}16%{transform:translate(0)}to{transform:translateX(-100%);left:0}}@keyframes slide-in-down{0%{transform:translateY(-100%);left:0}10%{transform:translateY(0);left:0}16%{transform:translate(0)}to{transform:translateX(-100%);left:0}}@keyframes slide-in-up-right{0%{transform:translate(-100%,100%);right:-100%}10%{transform:translate(-100%);right:-100%}16%{transform:translate(-100%)}to{transform:translate(0);right:-100%}}@keyframes slide-in-down-right{0%{transform:translate(-100%,-100%);right:-100%}10%{transform:translate(-100%);right:-100%}16%{transform:translate(-100%)}to{transform:translate(0);right:-100%}}"]}]}],d.ctorParameters=function(){return[{type:e.Renderer2}]},d.propDecorators={direction:[{type:e.Input}],duration:[{type:e.Input}],pauseOnHover:[{type:e.Input}],animation:[{type:e.Input}],taskOnUpdateContent:[{type:e.Input}],taskOnUpdateDuration:[{type:e.Input}],pendingUpdates:[{type:e.Input}],pendingUpdatesChange:[{type:e.Output}],playStateChange:[{type:e.Output}],tape:[{type:e.ViewChild,args:["tape"]}]};var m=function(){function t(t){this._element=t,this.intersectionDebounce=0,this.intersectionRootMargin="0px",this.visibilityChange=new e.EventEmitter,this._destroy$=new n.Subject}return t.prototype.ngOnInit=function(){var t=this;(function(t,e,r){return void 0===r&&(r=0),new n.Observable((function(s){var l=new n.Subject,c=new IntersectionObserver((function(t,e){t.forEach((function(t){l.next({entry:t,observer:e})}))}),e);return l.subscribe((function(){s.next(u.Pending)})),l.pipe(i.debounceTime(r),i.filter(Boolean)).subscribe((function(t){var e=t.entry;return t.observer,a(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,h(e.target)];case 1:return t.sent()?s.next(u.Visible):s.next(u.NotVisible),[2]}}))}))})),c.observe(t),{unsubscribe:function(){c.disconnect(),l.unsubscribe()}}}))})(this._element.nativeElement,{root:this.intersectionRoot,rootMargin:this.intersectionRootMargin,threshold:this.intersectionThreshold},this.intersectionDebounce).pipe(i.takeUntil(this._destroy$)).subscribe((function(e){t.visibilityChange.emit(e)}))},t.prototype.ngOnDestroy=function(){this._destroy$.next()},t}();m.decorators=[{type:e.Directive,args:[{selector:"[intersectionObserver]"}]}],m.ctorParameters=function(){return[{type:e.ElementRef}]},m.propDecorators={intersectionDebounce:[{type:e.Input}],intersectionRootMargin:[{type:e.Input}],intersectionRoot:[{type:e.Input}],intersectionThreshold:[{type:e.Input}],visibilityChange:[{type:e.Output}]};var f=function(){};f.decorators=[{type:e.NgModule,args:[{declarations:[d,m],imports:[r.CommonModule],exports:[d]}]}],t.NgxMarqueeComponent=d,t.NgxMarqueeModule=f,t.ɵa=m,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-marquee.umd.min.js.map